(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{521:function(s,n,a){"use strict";a.r(n);var e=a(4),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"使用-canvas-完成贪吃蛇小游戏的开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-canvas-完成贪吃蛇小游戏的开发"}},[s._v("#")]),s._v(" 使用 Canvas 完成贪吃蛇小游戏的开发")]),s._v(" "),a("p",[s._v("很多 H5 的小游戏都是使用 canvas 来制作的，canvas 具体的使用细节在上一篇博客已经很完整的介绍过了，现在主要就是讲一下利用 canvas 来制作游戏。")]),s._v(" "),a("p",[s._v("源码在"),a("a",{attrs:{href:"https://gitee.com/jimmyxuexue/HTML_Basics/blob/master/canvas/26-%E8%B4%AA%E5%90%83%E8%9B%87.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200829224025624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center",alt:"贪吃蛇"}})]),s._v(" "),a("h3",{attrs:{id:"思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[s._v("#")]),s._v(" 思路")]),s._v(" "),a("p",[s._v("一个蛇的组成部分是蛇头和蛇身，蛇身是一个数组，将来只要碰撞到食物就往蛇身上添加一块长度.通过"),a("code",[s._v("setInterval()")]),s._v("不断的执行蛇的加头去尾的操作，就能实现蛇的运动，再添加一个键盘事件，当我们按下指定的按键之后让加的蛇头的位置发生改变就实现了一个可以控制的蛇")]),s._v(" "),a("ol",[a("li",[s._v("先把蛇画出来\n"),a("ol",[a("li",[s._v("画蛇头和蛇身")])])]),s._v(" "),a("li",[s._v("让蛇动起来\n"),a("ol",[a("li",[s._v("添加键盘的按下事件")]),s._v(" "),a("li",[s._v("animate 运动（其原理是不断的画一个图，然后清除画布，再画，再清除，就能实现看似运动的状态）")])])]),s._v(" "),a("li",[s._v("随机投放食物\n"),a("ol",[a("li",[s._v("需要确定坐标位置")]),s._v(" "),a("li",[s._v("食物是否投放到蛇的身上（数组去重）")])])]),s._v(" "),a("li",[s._v("吃食物\n"),a("ol",[a("li",[s._v("碰撞检测")]),s._v(" "),a("li",[s._v("将食物添加到蛇身上（往蛇身数组添加一个长度）")])])]),s._v(" "),a("li",[s._v("边缘检测\n"),a("ol",[a("li",[s._v("碰撞检测")]),s._v(" "),a("li",[s._v("GameOver")])])])]),s._v(" "),a("p",[s._v("像这种游戏并且要不断创建蛇头食物事件发生的时候我们就使用面向对象的方式编程是最合适的，因为可以节省我们的代码，且也是更加的优雅")]),s._v(" "),a("h3",{attrs:{id:"部分代码细节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分代码细节"}},[s._v("#")]),s._v(" 部分代码细节")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("方块的构造函数（这个方块可以作为蛇头，作为蛇身的一部分，作为食物）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  function Rect(x, y, width, height, color) {\n    this.x = x\n    this.y = y\n    this.width = width\n    this.height = height\n    this.color = color\n  }\n  // 添加 rDraw 画上画布的方法\n  Rect.prototype.rDraw = function() {\n    ctx.beginPath()\n    ctx.fillStyle = this.color\n    ctx.fillRect(this.x, this.y, this.width, this.height)\n    ctx.strokeRect(this.x, this.y, this.width, this.height)\n    ctx.closePath()\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("这里使用"),a("code",[s._v("prototype")]),s._v("原型链的方式为构造函数添加方法，也可以直接在构造函数里面使用"),a("code",[s._v("this.name = function(){}")]),s._v("的方式")])]),s._v(" "),a("li",[a("p",[s._v("蛇的专属构造函数（这里其实是可以使用继承的，但是自己代码也写的不太好，日后改进吧）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  function Snake() {\n    this.isEeaFood = false // 是否吃到食物的状态\n    this.direction = 2  //  蛇移动方向的标识\n    // 蛇头\n    this.head = new Rect(\n      canvas.width / 2,\n      canvas.height / 2,\n      40,\n      40,\n      'red'  // 蛇头强制红色\n    )\n    // 蛇身\n    this.body = new Array()  // 蛇身是一个数组\n    let x = this.head.x - 40\n    let y = this.head.y\n    for (let i = 0; i < 3; i++) {\n      let recta = new Rect(x, y, 40, 40, 'gray')\n      this.body.push(recta)\n      x -= 40\n    }\n  }\n\n  Snake.prototype.sDraw = function() {\n    // 绘制蛇头\n    this.head.rDraw()\n    // 绘制蛇身\n    for (let i = 0; i < this.body.length; i++) {\n      this.body[i].rDraw()\n    }\n  }\n\n  Snake.prototype.move = function() {\n    /*\n      蛇能够动起来的思路就是给蛇加头去尾 再重新渲染\n    */\n    // 加头\n    let rect = new Rect(\n      this.head.x,\n      this.head.y,\n      this.head.width,\n      this.head.height,\n      'gray'\n    )\n    this.body.splice(0, 0, rect)\n    // 去尾\n    if (this.isEeaFood == false) {\n      this.body.pop() // 直接在蛇身末尾删除一个元素\n    } else {\n      this.isEeaFood = false\n    }\n    console.log(this.body)\n    switch (this.direction) {\n      case 0: {\n        this.head.x -= this.head.width\n        break\n      }\n      case 1: {\n        this.head.y -= this.head.height\n        break\n      }\n      case 2: {\n        this.head.x += this.head.width\n        break\n      }\n      case 3: {\n        this.head.y += this.head.height\n        break\n      }\n    }\n\n    // 判断蛇和边框相撞\n    if (\n      this.head.x > canvas.width - 40 ||\n      this.head.x <= 0 ||\n      this.head.y > canvas.height ||\n      this.head.y < 0\n    ) {\n      clearInterval(timer)\n      alert('Game Over~')\n    }\n\n    // 判断蛇身和蛇头重叠\n    for (let i = 0; i < this.body.length; i++) {\n      // console.log(this.body[i])\n      if (isRectHit(this.head, this.body[i])) {\n        clearInterval(timer)\n        alert('Game Over~')\n      }\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br")])]),a("p",[s._v("因为蛇头和蛇身都是方块，所以我们蛇的蛇头和蛇身这里就可以直接使用前面定义的方块的构造函数来快速的创建方块来构建一个蛇的形状"),a("br"),s._v("\n并且这里最重要的就是那个蛇的运动的那个方法了，得处理很多事情，加头、去尾、碰撞检测，行动方向的检测（行动方向直接决定的是新加的蛇头的坐标）")])]),s._v(" "),a("li",[a("p",[s._v("随机创建食物")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  function randForFood() {\n    let isInSnake = true\n    let rect\n    while (isInSnake) {\n      // 随机投放的位置\n      let x = getRandInRange(0, (canvas.width - 40) / 40) * 40\n      let y = getRandInRange(0, (canvas.height - 40) / 40) * 40\n\n      // 食物矩形\n      rect = new Rect(x, y, 40, 40, 'green')\n\n      // 判断食物是否与蛇头重叠\n      if (isRectHit(snake.head, rect)) {\n        isInSnake = true\n        continue\n      }\n      isInSnake = false\n      // 判断是否是否与蛇身重叠\n      for (let i = 0; i < snake.body.length; i++) {\n        if (isRectHit(rect, snake.body[i])) {\n          isInSnake = true\n          break\n        }\n      }\n    }\n    return rect\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("这里要做的就是判断创建的食物是不是和蛇头或者蛇身碰撞了，使用一个 while 循环，如果碰撞了，就重新创建，直到没有碰撞为止。")])]),s._v(" "),a("li",[a("p",[s._v("碰撞检测函数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  function isRectHit(rect1, rect2) {\n    let minx1 = rect1.x\n    let minx2 = rect2.x\n    let miny1 = rect1.y\n    let miny2 = rect2.y\n\n    let maxx1 = rect1.x + rect1.width\n    let maxx2 = rect2.x + rect2.width\n    let maxy1 = rect1.y + rect1.height\n    let maxy2 = rect2.y + rect2.height\n\n    let minX = Math.max(minx1, minx2)\n    let minY = Math.max(miny1, miny2)\n    let maxX = Math.min(maxx1, maxx2)\n    let maxY = Math.min(maxy1, maxy2)\n\n    if (minX < maxX && minY < maxY) {\n      return true\n    } else {\n      return false\n    }\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("当两个小方块的最小的 x 中比较大的那个值和最大的比较小那个值相等或者说更小的时候就肯定碰撞了，再返回对应的布尔值，这样创建随机食物和吃食物就可以根据这个布尔值来判断是否撞上了")])]),s._v(" "),a("li",[a("p",[s._v("获取随机数的方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  function getRandInRange(min, max) {\n    return Math.round(Math.random() * (max - min) + min)\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这个方法是用于创建随机食物的，因为随机的食物创建是相当于创建的一个像素点，并不是随便一个位置就可以的。")])]),s._v(" "),a("li",[a("p",[s._v("键盘按下事件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  document.addEventListener('keydown', e => {\n    switch (e.keyCode) {\n      case 37: {\n        snake.direction = 0\n        break\n      }\n      case 38: {\n        snake.direction = 1\n        break\n      }\n      case 39: {\n        snake.direction = 2\n        break\n      }\n      case 40: {\n        snake.direction = 3\n        break\n      }\n    }\n  })\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("这个没什么好说，通过按键的代码值，改变蛇身上的位置移动方向代码，蛇身上的移动代码只要一变，蛇随机蛇头的位置也就会发生改变，配合去掉蛇尾，整个蛇就是相当于移动了位置")])]),s._v(" "),a("li",[a("p",[s._v("最后实例化操作")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  let snake = new Snake()\n  snake.sDraw()\n  let food = new randForFood()\n  function animate() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n    food.rDraw()\n    snake.move()\n    snake.sDraw()\n    if (isRectHit(snake.head, food)) {\n      snake.isEeaFood = true\n      food = new randForFood()\n    }\n  }\n  timer = setInterval(() => {\n    animate()\n  }, 200)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("创建一个动画方法，然后在"),a("code",[s._v("setInterval")]),s._v("里面不断的执行这个方法即可")])])]),s._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("canvas 在做游戏这好像是挺火的，但是 canvas 实际原理上基础的操作是不会很难的，要理解的入门 api 也不会很多，还能根据这些 api 做出一个有趣的小 Demo，还是很值得学习的。")])])}),[],!1,null,null,null);n.default=t.exports}}]);