---
title: æ§åˆ¶å°å°æ¸¸æˆ
date: 2020-08-19
sidebar: auto
categories:
  - JavaScript
tags:
  - å‰ç«¯
  - JavaScript
---

åœ¨æµè§ˆå™¨ä¸Šå¯ä»¥é€šè¿‡æˆ‘ä»¬ js ä»£ç ï¼Œå®ç°ä¸€äº›å°æ—¶å€™åœ¨ä¸€äº›æ¸¸æˆæœºä¸Šé¢ç©è¿‡çš„ä¸€äº›ç®€ç­”çš„å°æ¸¸æˆï¼Œè¿˜æœ‰æœ€å°‘ä¹‹å‰ç”¨ C è¯­è¨€åšçš„ä¸€äº›å°é»‘æ¡†çš„ demo å…¶å®éƒ½æ˜¯å¯ä»¥ç§»æ¤è¿‡æ¥çš„ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„æ§åˆ¶å°æ›´åŠ çš„ç‚«é…·å’Œå¼ºæ‚

<!-- more -->

## æ¸¸æˆæµç¨‹

![å¼€å§‹æ¸¸æˆ](https://img-blog.csdnimg.cn/20200820223113839.png#pic_center)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200820223341502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200820223428401.png#pic_center)

ä¸»è¦çš„æ€è·¯å°±æ˜¯æ§åˆ¶å°è¾“å…¥`start()`ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹æˆ‘ä»¬çš„æ¸¸æˆï¼Œå¯ä»¥å·¦å³æ§åˆ¶ç©å®¶æ§åˆ¶çš„äººç‰©æ¥èº²é¿å‡ºç°çš„å°éšœç¢ç‰©ï¼Œå¦‚æœæ²¡æœ‰èº²é¿æˆåŠŸå°±ä¼šå¤±è´¥ï¼Œå¹¶ä¸”æœ‰å¤±è´¥æç¤ºå’Œå¤±è´¥æç¤ºéŸ³

## ä»£ç æ€è·¯

è¿™ä¸ªå°æ¸¸æˆä¸»è¦è¿˜æ˜¯è€ƒéªŒä¸€äº› js åŸºç¡€ï¼Œå¦‚å®šæ—¶å™¨çš„ä½¿ç”¨ï¼ŒäºŒç»´æ•°ç»„çš„ä½¿ç”¨ç­‰ç­‰ã€‚

### åˆ›å»ºèƒŒæ™¯ç”»å¸ƒ

window ç”µè„‘ä¸‹ä½¿ç”¨ win+'.' æŒ‰é”®å¯ä»¥å‡ºç°è¡¨æƒ…è¡¨é€‰æ‹©ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†èƒŒæ™¯çš„ä¸€ä¸ªä¸ªå…ƒç´ ç»™è®¾ç½®æˆå¥½çœ‹çš„å°å›¾æ ‡

```
  // èƒŒæ™¯ç”»å¸ƒå°ºå¯¸
  let background = {
    width: 5,
    height: 5,
  }

  let arr = new Array()
  // ç©å®¶åˆå§‹ä½ç½®
  let userY = 2

  // æ‰“å°å‡ºç”»å¸ƒæ•°ç»„
  for (let i = 0; i < background.height; i++) {
    let col = new Array()
    for (let j = 0; j < background.width; j++) {
      col[j] = 'ğŸš¥'
    }
    arr[i] = col
  }

  arr[background.height - 1][userY] = 'ğŸ˜'
```

### åˆå§‹åŒ–ç•Œé¢

```
   // æ‰“å°å‡ºç”»å¸ƒ
    let endString = ''
    for (let i = 0; i < arr.length; i++) {
      let str = ''
      for (let j = 0; j < arr[i].length; j++) {
        str += arr[i][j]
      }
      endString += str + '\n'  // è¿™é‡Œä¸€å®šè¦æ¢è¡Œï¼Œ å¦åˆ™æ‰“å°å‡ºæ¥çš„æ˜¯ä¸€æ•´è¡ŒèƒŒæ™¯ å°±æ²¡æœ‰æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†
    }
    console.clear()  // æ¸…ç©ºæ§åˆ¶å°
    console.log(endString)
  }
```

### ç”»é¢åŠ¨èµ·æ¥çš„åŸå› 

ç”»é¢ä¼šåŠ¨èµ·æ¥ä¸»è¦æ˜¯å› ä¸ºåšäº†ä»¥ä¸‹çš„ä¸¤ä¸ªæ­¥éª¤

- éšæœºè®©æœ€é¡¶è¡Œçš„éšæœºä¸€ä¸ªä½ç½®çš„èƒŒæ™¯å˜æˆéšœç¢èƒŒæ™¯

- åˆ é™¤æœ€ä¸‹é¢ä¸€è¡Œ

- åœ¨æœ€ä¸Šé¢ä¸€è¡Œåˆ›å»ºä¸€ä¸ªå±‹éšœç¢èƒŒæ™¯ï¼ŒåŒæ—¶å°†æœ€åä¸€è¡Œåˆ›å»ºä¸€ä¸ªç”¨æˆ·ç›®æ ‡

- ç›‘æ§ç”¨æˆ·çš„æŒ‰é”®æŒ‰ä¸‹äº‹ä»¶ï¼Œå¦‚æœæ˜¯æŒ‰äº†å·¦å³æŒ‰é”®ï¼Œå°±è®©æ§åˆ¶çš„å°ç›®æ ‡çš„åæ ‡å‘å·¦å‘å³ç§»åŠ¨ä¸€æ ¼

- å°†è¿™ä¸€äº›éƒ½ç»‘å®šåœ¨ä¸€ä¸ª interval å¾ªç¯æ‰§è¡Œå™¨ä¸Šï¼Œæ¯æ¬¡é—´éš” 200 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ é‚£ä¹ˆé¡µé¢å°±åŠ¨èµ·æ¥äº†

```
   let starFlash = setInterval(() => {
      arr.pop()  // æ¸…æ¥šæœ€é¡¶ç«¯çš„ä¸€è¡Œ
      if (arr[arr.length - 1][userY] == 'ğŸ˜‚') { // åˆ¤æ–­æ˜¯å¦å·²ç» ä¸¤ä¸ªå›¾æ ‡æ˜¯å¦æ’åœ¨ä¸€èµ·
        arr[arr.length - 1][userY] = 'ğŸ‡'
        new Audio('https://img.lookroot.cn/music/12233.wav').play()  //  æ’­æ”¾ä¸€æ®µéŸ³é¢‘
        setTimeout(() => {
          clearInterval(starFlash) // ç›¸æ’å°±åœæ­¢è¿™ä¸ªå®šæ—¶å™¨ç»§ç»­æ‰§è¡Œ
          console.clear() //  æ¸…ç©ºæ§åˆ¶å°
          console.log('%cOVER', 'color: red;font-size:48px')  //  åœ¨æ§åˆ¶å°æ‰“å°å‡ºå¤±è´¥å¸¦å¤´æ ·å¼çš„å­—æ ·
        }, 100)
      } else {
        arr[arr.length - 1][userY] = 'ğŸ˜'
        arr.unshift(new Array(background.width).fill('ğŸš¥')) //  åœ¨æœ€é¡¶ç«¯åˆ›å»ºä¸€è¡Œæ— éšœç¢çš„ç©ºèƒŒæ™¯ç”»å¸ƒ
        arr[0][parseInt(Math.random() * background.width)] = 'ğŸ˜‚'  // éšæœºåˆ›å»ºä¸€ä¸ªéšœç¢ç‰©
        // æ‰“å°å‡ºç”»å¸ƒ
        let endString = ''
        for (let i = 0; i < arr.length; i++) {
          let str = ''
          for (let j = 0; j < arr[i].length; j++) {
            str += arr[i][j]
          }
          endString += str + '\n'
        }
        console.clear()
        console.log(endString)
      }
    }, 200)
```

```
  // ç›‘å¬å…¨å±€çš„æŒ‰é”®äº‹ä»¶ï¼Œå¦‚æœæ˜¯  é€šè¿‡keyCodeæ¥åˆ¤æ–­æ˜¯å“ªä¸ªæŒ‰é”®è¢«æŒ‰ä¸‹äº†
  window.onkeydown = (e) => {
    if (e.keyCode == 37 && userY > 0) {
      userY--
    } else if (e.keyCode == 39 && userY < background.width - 1) {
      userY++
    }
  }
```

## åœ¨ Vue ç»„ä»¶ä¸­å…¨å±€ç»‘å®š window å¯¹è±¡

æˆ‘ä»¬éƒ½çŸ¥é“ Vue çš„ JS ä»£ç æˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯å†™åœ¨ script æ ‡ç­¾ä¸­ `export default {}`é»˜è®¤å¯¼å‡ºçš„å¯¹è±¡é‡Œé¢çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯è¦å°†å…¨å±€çš„ç»‘å®š window å¯¹è±¡ï¼Œæˆ‘ä»¬å¦‚æœå°†ä»£ç å†™åœ¨å¯¼å‡ºå¯¹è±¡é‡Œé¢ï¼Œé‚£ä¹ˆæ˜¯æ²¡åŠæ³•ç»‘å®šç»™ window å¯¹è±¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±åªèƒ½å°†ä»£ç å†™åœ¨ script æ ‡ç­¾é‡Œé¢ `export default {}`å¯¹è±¡å¤–é¢ã€‚äº²æµ‹æœ‰æ•ˆ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200820230246787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center)

### æ€»ç»“

JS æ˜¯ä¸€åˆ‡çš„åŸºç¡€ï¼Œå¦‚æœé€»è¾‘æ€§å¼ºï¼Œå°±å¯ä»¥åœ¨æˆ‘ä»¬æ§åˆ¶å°åšå¾ˆå¤šå¾ˆå¤šæ¸¸æˆçš„ï¼Œå¦‚è´ªåƒè›‡ç­‰ç­‰å…¶ä»–çš„æ¸¸æˆä¹Ÿéƒ½å¯ä»¥çš„ï¼Œæ‰€ä»¥ js æ˜¯åŸºç¡€ã€‚
